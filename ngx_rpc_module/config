ngx_addon_name=ngx_rpc_module

HTTP_MODULES="$HTTP_MODULES ngx_http_rpc_module"

NGX_ADDON_SRCS="$NGX_ADDON_SRCS \
    $ngx_addon_dir/ngx_http_rpc_module.c \
    $ngx_addon_dir/ngx_rpc_api.cpp \
    $ngx_addon_dir/ngx_log_cpp.cpp \
    $ngx_addon_dir/ngx_rpc_buffer.cpp \
    $ngx_addon_dir/ngx_rpc_server_controller.cpp \
    $ngx_addon_dir/ngx_rpc_router.cpp \
    $ngx_addon_dir/ngx_rpc_server_list.cpp "


PROTO_INC="$ngx_addon_dir/../thirdparty/protobuf/4.9/include"
PROTO_LIB="$ngx_addon_dir/../thirdparty/protobuf/4.9/lib"

CORE_INCS="$CORE_INCS $ngx_addon_dir $ngx_addon_dir/../ $PROTO_INC"
CORE_LIBS="$CORE_LIBS $PROTO_LIB/libprotobuf.a -static-libgcc -static-libstdc++ "
CORE_LINK=" -lrt "
